!function(a){"use strict";var b=function(a,c){b.modules||(b.modules={},b.payloads={}),b.payloads[a]=c,b.modules[a]=null},c=function(a,e){e=d(a,e);var f=b.modules[e];if(!f){f=b.payloads[e];var g={},h={id:e,exports:g},i=function(a){return c(e,a)},j=f(i,g,h);g=j||h.exports,b.modules[e]=g,delete b.payloads[e]}return f=b.modules[e]=g||f},d=function(a,b){if("."===b.charAt(0)){var c=a.split("/").slice(0,-1).join("/");b=c+"/"+b;for(var d;-1!==b.indexOf(".")&&d!==b;)d=b,b=b.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return b},e=b;e("cc/loader",function(b,c,d){var e=b("./cc");"undefined"!=typeof document?(e.context="client",b("./client/installer").install(a)):"undefined"!=typeof WorkerLocation&&(e.context="server",b("./server/installer").install(a)),d.exports={}}),e("cc/cc",function(a,b,c){c.exports={version:"0"}}),e("cc/client/installer",function(a,b,c){var d=a("../cc"),e=a("./coffee_collider").CoffeeCollider;if("undefined"!=typeof document){var f=document.getElementsByTagName("script");if(f&&f.length)for(var g,h=0;h<f.length;h++)if(!d.coffeeColliderPath&&(g=/^(.*\/)coffee-collider(?:-min)?\.js/.exec(f[h].src))){d.rootPath=g[1],d.coffeeColliderPath=g[0];break}}var i=function(a){a.CoffeeCollider=e};c.exports={install:i}}),e("cc/client/coffee_collider",function(a,b,c){var d=a("../cc"),e=a("./client").SynthClient,f=function(){function a(){this.version=d.version,this.client=new e,this.sampleRate=this.client.sampleRate,this.channels=this.client.channels,this.compiler=this.client.compiler}return a.prototype.destroy=function(){return this.client&&(this.client.destroy(),delete this.client,delete this.sampleRate,delete this.channels),this},a.prototype.play=function(){return this.client&&this.client.play(),this},a.prototype.reset=function(){return this.client&&this.client.reset(),this},a.prototype.pause=function(){return this.client&&this.client.pause(),this},a.prototype.exec=function(a,b){return this.client&&this.client.exec(a,b),this},a.prototype.getStream=function(){return this.client?this.client.strm:void 0},a.prototype.loadScript=function(a){return this.client&&this.client.loadScript(a),this},a}();c.exports={CoffeeCollider:f}}),e("cc/client/client",function(a,b,c){var d=a("../cc"),e=a("./sound_system").SoundSystem,f=a("./compiler").Compiler,g={},h=function(){function a(){var a=this;this.worker=new Worker(d.coffeeColliderPath),this.worker.addEventListener("message",function(b){var c=b.data;c instanceof Float32Array?(a.strmList[a.strmListWriteIndex]=c,a.strmListWriteIndex=7&a.strmListWriteIndex+1):a.recv(c)}),this.compiler=new f,this.isConnected=!1,this.execId=0,this.execCallbacks={},this.sys=e.getInstance(),this.sys.append(this),this.sampleRate=this.sys.sampleRate,this.channels=this.sys.channels,this.strmLength=this.sys.strmLength,this.bufLength=this.sys.bufLength,this.isPlaying=!1,this.strm=new Float32Array(this.strmLength*this.channels),this.strmList=new Array(8),this.strmListReadIndex=0,this.strmListWriteIndex=0}return a.prototype.destroy=function(){this.sys.remove(this),delete this.worker},a.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.sys.play(),this.send(["/play",this.sys.syncCount]))},a.prototype.reset=function(){},a.prototype.pause=function(){this.isPlaying&&(this.isPlaying=!1,this.sys.pause(),this.send(["/pause"]))},a.prototype.process=function(){var a=this.strmList[this.strmListReadIndex];a&&(this.strmListReadIndex=7&this.strmListReadIndex+1,this.strm.set(a))},a.prototype.exec=function(a,b){"string"==typeof a&&(a=this.compiler.compile(a.trim()),this.send(["/exec",this.execId,a]),"function"==typeof b&&(this.execCallbacks[this.execId]=b),this.execId+=1)},a.prototype.loadScript=function(a){this.send(["/loadScript",a])},a.prototype.send=function(a){this.worker.postMessage(a)},a.prototype.recv=function(a){if(a){var b=g[a[0]];b&&b.call(this,a)}},a.prototype.sync=function(a){this.send(a)},a}(),i=function(){var a=function(){},b=function(c){if(!c)return c;if("string"==typeof c)return"[Function]"===c?a:c;var d;if("object"==typeof c){if(c.buffer instanceof ArrayBuffer)return c;Array.isArray(c)?d=c.map(function(a){return b(a)}):(c.klassName&&/^[_a-z$][_a-z0-9$]*$/i.test(c.klassName)?(d=eval.call(null,"new (function "+c.klassName+"(){})"),delete c.klassName):d={},Object.keys(c).forEach(function(a){d[a]=b(c[a])}))}else d=c;return d};return function(a){return b(a)}}();g["/connect"]=function(){this.isConnected=!0,this.send(["/init",this.sampleRate,this.channels,this.strmLength,this.bufLength,this.sys.syncCount])},g["/exec"]=function(a){var b=a[1],c=a[2],d=this.execCallbacks[b];d&&(void 0!==c&&(c=i(c)),d(c),delete this.execCallbacks[b])},g["/console/log"]=function(a){console.log.apply(console,i(a[1]))},g["/console/debug"]=function(a){console.debug.apply(console,i(a[1]))},g["/console/info"]=function(a){console.info.apply(console,i(a[1]))},g["/console/warn"]=function(a){console.warn.apply(console,i(a[1]))},g["/console/error"]=function(a){console.error.apply(console,i(a[1]))},c.exports={SynthClient:h}}),e("cc/client/sound_system",function(b,c,d){var e,f=b("../cc"),g=function(){function a(){this.sampleRate=44100,this.channels=2,this.api=new e(this),this.sampleRate=this.api.sampleRate,this.channels=this.api.channels,this.colliders=[],this.process=c,this.strmLength=1024,this.bufLength=64,this.strm=new Float32Array(this.strmLength*this.channels),this.clear=new Float32Array(this.strmLength*this.channels),this.syncCount=0,this.syncItems=new Float32Array(6),this.isPlaying=!1}var b=null;a.getInstance=function(){return b||(b=new a),b},a.prototype.append=function(a){var b=this.colliders.indexOf(a);-1===b&&(this.colliders.push(a),this.process=1===this.colliders.length?d:f)},a.prototype.remove=function(a){var b=this.colliders.indexOf(a);-1!==b&&this.colliders.splice(b,1),this.process=1===this.colliders.length?d:0===this.colliders.length?c:f},a.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.syncCount=0,this.api.play())},a.prototype.pause=function(){if(this.isPlaying){var a=this.colliders.every(function(a){return!a.isPlaying});a&&(this.isPlaying=!1,this.api.pause())}};var c=function(){this.strm.set(this.clear)},d=function(){var a=this.colliders[0];this.syncItems[0]=this.syncCount,a.process(),this.strm.set(a.strm),a.sync(this.syncItems),this.syncCount++},f=function(){var a,b,c=this.strm,d=c.length,e=this.colliders,f=this.syncItems;f[0]=this.syncCount,c.set(this.clear);for(var g=0,h=e.length;h>g;++g){a=e[g],a.process(),b=a.strm;for(var i=0;d>i;i+=8)c[i]+=b[i],c[i+1]+=b[i+1],c[i+2]+=b[i+2],c[i+3]+=b[i+3],c[i+4]+=b[i+4],c[i+5]+=b[i+5],c[i+6]+=b[i+6],c[i+7]+=b[i+7];a.sync(f)}this.syncCount++};return a}(),h=a.AudioContext||a.webkitAudioContext;h?e=function(){function a(a){this.sys=a,this.context=new h,this.sampleRate=this.context.sampleRate,this.channels=2}return a.prototype.play=function(){var a,b=this.sys,c=b.strmLength,d=4*c,e=b.strm.buffer;this.sys.sampleRate===this.sampleRate&&(a=function(a){var c=a.outputBuffer;b.process(),c.getChannelData(0).set(new Float32Array(e.slice(0,d))),c.getChannelData(1).set(new Float32Array(e.slice(d)))}),this.bufSrc=this.context.createBufferSource(),this.jsNode=this.context.createJavaScriptNode(c,2,this.channels),this.jsNode.onaudioprocess=a,this.bufSrc.noteOn(0),this.bufSrc.connect(this.jsNode),this.jsNode.connect(this.context.destination)},a.prototype.pause=function(){this.bufSrc.disconnect(),this.jsNode.disconnect()},a}():"function"==typeof Audio&&"function"==typeof(new Audio).mozSetup&&(e=function(){function a(a){this.sys=a,this.sampleRate=44100,this.channels=2}var b=function(){var a="var t=0;onmessage=function(e){if(t)t=clearInterval(t),0;if(typeof e.data=='number'&&e.data>0)t=setInterval(function(){postMessage(0);},e.data);};",b=new Blob([a],{type:"text/javascript"}),c=URL.createObjectURL(b);return new Worker(c)}();return a.prototype.play=function(){var a=this.sys,c=new Audio,d=new Float32Array(a.strmLength*a.channels),e=1e3*(a.strmLength/a.sampleRate),f=0,g=Date.now(),h=new Float32Array(a.strm.buffer,0,a.strmLength),i=new Float32Array(a.strm.buffer,4*a.strmLength),j=function(){if(!(f>Date.now()-g)){var b=d.length,j=h.length;for(a.process();j--;)d[--b]=i[j],d[--b]=h[j];c.mozWriteAudio(d),f+=e}};c.mozSetup(a.channels,a.sampleRate),b.onmessage=j,b.postMessage(.8*e)},a.prototype.pause=function(){b.postMessage(0)},a}()),e||(e=function(){function a(a){this.sys=a,this.sampleRate=44100,this.channels=2}a.prototype.play=function(){b.play&&(this.play=b.play,this.play())},a.prototype.pause=function(){b.pause&&(this.pause=b.pause,this.pause())};var b={};return window.addEventListener("load",function(){var a=f.rootPath+"coffee-collider-fallback.swf",c=a+"?"+Date.now(),d="coffee-collider-fallback",e=document.createElement("div");e.style.display="inline",e.width=1,e.height=1,e.innerHTML='<object id="'+d+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+c+'"/><param name="bgcolor" value="#FFFFFF"/><param name="quality" value="high"/><param name="allowScriptAccess" value="always"/></object>',document.body.appendChild(e),window.coffeecollider_flashfallback_init=function(){var a=document.getElementById(d),c=0;b.play=function(){if(0===c){var b=this.sys,d=1e3*(b.strmLength/b.sampleRate),e=0,f=Date.now(),g=new Array(b.strmLength*b.channels),h=g.length,i=function(){if(!(e>Date.now()-f)){b.process();for(var c=b.strm,i=0;h>i;++i){var j=0|16384*c[i]+32768;j=Math.max(16384,Math.min(j,49152)),g[i]=String.fromCharCode(j)}a.writeAudio(g.join("")),e+=d}};c=setInterval(i,.8*d),a.play()}},b.pause=function(){0!==c&&(a.pause(),clearInterval(c),c=0)}}}),a}()),d.exports={SoundSystem:g}}),e("cc/client/compiler",function(b,c,d){var e=function(){if(a.CoffeeScript)return a.CoffeeScript;try{return b(["coffee-script"][0])}catch(c){}}(),f=0,g=1,h={},i=function(a){console.log(a.map(function(a){return a[0]+"	"+a[1]}).join("\n"))},j=function(a){for(var b="";a--;)b+=" ";return b},k=function(a,b){for(var c=0,d=0;b>0;){var e=a[b-1];if(!e||"."!==e[f])switch(e=a[b],e[f]){case"PARAM_START":return b;case"(":case"[":case"{":c-=1;case"IDENTIFIER":case"NUMBER":case"STRING":case"BOOL":case"REGEX":case"NULL":case"UNDEFINED":if(0===d&&0===c){if(e=a[b-1]){if("UNARY"===e[f])return b-1;if("+"===e[g]||"-"===e[g]){if(e=a[b-2],!e)return b-1;switch(e[f]){case"INDENT":case"TERMINATOR":case"CALL_START":case"COMPOUND_ASSIGN":case"UNARY":case"LOGIC":case"SHIFT":case"COMPARE":case"=":case"..":case"...":case"[":case"(":case"{":case",":case"?":return b-1}}}return b}break;case"}":case"]":case")":case"PARAM_END":case"CALL_END":c+=1;break;case"INDENT":d+=0|e[g];break;case"OUTDENT":d-=0|e[g]}b-=1}return 0},l=function(a,b){for(var c=0,d=0,e=!1;b<a.length;){var h=a[b];if(e)e="PARAM_END"!==h[f],b+=1;else{switch(h[f]){case"}":case"]":case")":case"CALL_END":c-=1;break;case"OUTDENT":d-=0|h[g];break;case"PARAM_START":e=!0,b+=1;continue}if(h=a[b+1],!h||"."!==h[f])switch(h=a[b],h[f]){case"TERMINATOR":if(0===d)return b-1;break;case"IDENTIFIER":if(h=a[b+1],h&&"CALL_START"===h[f]){c+=1;break}if(0===d&&0===c)return b;break;case"NUMBER":case"STRING":case"BOOL":case"REGEX":case"NULL":case"UNDEFINED":if(0===d&&0===c)return b;break;case"(":case"[":case"{":c+=1;break;case"}":case"]":case")":case"CALL_END":if(0===d&&0===c)return b;break;case"INDENT":d+=0|h[g];break;case"OUTDENT":if(0===d&&0===c)return b}b+=1}}return a.length-1},m=function(a){for(var b=a.length-1;b>=0;){var c,d,e=a[b];"pi"===e[g]&&(a.splice(b,1),e=a[b-1],e&&"NUMBER"===e[f]?(c=k(a,b),a.splice(b,0,["MATH","*",h]),d=b):(c=-1,d=b-1),a.splice(d+1,0,["IDENTIFIER","Math",h]),a.splice(d+2,0,[".",".",h]),a.splice(d+3,0,["IDENTIFIER","PI",h]),-1!==c&&(a.splice(d+4,0,[")",")",h]),a.splice(c,0,["(","(",h]))),b-=1}return a},n=function(a){for(var b=a.length-1;b>=0;){var c=a[b];if("MATH"===c[f]){var d=k(a,b),e=l(a,b)+1;a.splice(e,0,[")",")",h]),a.splice(d,0,["(","(",h])}b-=1}return a},o={"+":"num","-":"neg","!":"not","~":"tilde"},p=function(a){for(var b=a.length-1;b>=0;){var c=a[b];if(o.hasOwnProperty(c[g])){var d=o[c[g]];switch(c=a[b-1]||{0:"TERMINATOR"},c[f]){case"INDENT":case"TERMINATOR":case"CALL_START":case"COMPOUND_ASSIGN":case"UNARY":case"LOGIC":case"SHIFT":case"COMPARE":case"=":case"..":case"...":case"[":case"(":case"{":case",":case"?":case"+":case"-":var e=l(a,b);a.splice(e+1,0,[".",".",h]),a.splice(e+2,0,["IDENTIFIER",d,h]),a.splice(e+3,0,["CALL_START","(",h]),a.splice(e+4,0,["CALL_END",")",h]),a.splice(b,1)}}b-=1}return a},q={"+":"__add__","-":"__sub__","*":"__mul__","/":"__div__","%":"__mod__"},r=function(a){for(var b=0,c=!1;b<a.length;){var d=a[b];if(c&&q.hasOwnProperty(d[g])){var e=q[d[g]],i=l(a,b)+1;a.splice(b++,1,[".",".",h]),a.splice(b++,0,["IDENTIFIER",e,h]),a.splice(b,0,["CALL_START","(",h]),a.splice(i+2,0,["CALL_END",")",h]),c=!1}else{switch(d[f]){case"INDENT":case"TERMINATOR":case"CALL_START":case"COMPOUND_ASSIGN":case"UNARY":case"LOGIC":case"SHIFT":case"COMPARE":case"=":case"..":case"...":case"[":case"(":case"{":case",":case"?":c=!1;break;default:c=!0}b+=1}}return a},s={"+=":"__add__","-=":"__sub__","*=":"__mul__","/=":"__div__","%=":"__mod__"},t=function(a){for(var b=a.length-1;b>=0;){var c=a[b];if(s.hasOwnProperty(c[g])){var d=s[c[g]],e=k(a,b),f=l(a,b)+1;a[b]=["=","=",h],a.splice(b+1,0,[".",".",h]),a.splice(b+2,0,["IDENTIFIER",d,h]),a.splice(b+3,0,["CALL_START","(",h]),a.splice(f+3,0,["CALL_END",")",h]);for(var i=e;b>i;i++)a.splice(b+1,0,a[i])}b-=1}return a},u=function(a){for(var b=0,c=0;b<a.length;){var d=a[b];if("("===d[f]&&(d=a[b+1],d&&"("===d[f])){c=2;for(var e=b+2;e<a.length;e++)if(d=a[e][f],"("===d&&(c+=1),")"===d&&(c-=1,0===c)){")"===a[e-1][f]&&(a.splice(e,1),a.splice(b,1),b-=1);break}}b+=1}return a},v=function(){var a=function(a,b){for(var c=-1,d=-1,e=b+1;e<a.length;++e)if("PARAM_START"===a[e][f])c=e;else if("PARAM_END"===a[e][f]){d=e;break}var h="";return-1!==c&&(h=a.slice(c+1,d).map(function(a){return a[g]}).join("").replace(/"/g,"'")),h='"'+h+'"',{begin:c,end:d,replace:h}};return function(b){for(var c=b.length-1;c>=0;){var d=b[c];if("IDENTIFIER"===d[f]&&"def"===d[g]&&(d=b[c+1],"CALL_START"===d[f])){var e=l(b,c+2),i=a(b,c+1);b.splice(++e,0,[",",",",h]),b.splice(++e,0,["STRING",i.replace,h])}c-=1}return b}}(),w=function(){function a(){}return a.prototype.tokens=function(a){var b=e.tokens(a);return b=m(b),b=p(b),b=n(b),b=r(b),b=t(b),b=v(b),b=u(b)},a.prototype.compile=function(a){var b=this.tokens(a);return e.nodes(b).compile({bare:!0}).trim()},a.prototype.toString=function(a){var b=0;return"string"==typeof a&&(a=this.tokens(a)),a.map(function(a){switch(a[f]){case"TERMINATOR":return"\n";case"INDENT":return b+=0|a[g],"\n"+j(b);case"OUTDENT":return b-=0|a[g],"\n"+j(b);case",":return a[g]+" ";default:return a[g]}}).join("").trim()},a}();d.exports={Compiler:w,dumpTokens:i,findOperandHead:k,findOperandTail:l,replacePi:m,replacePrecedence:n,replaceBinaryOp:r,replaceUnaryOp:p,replaceCompoundAssign:t,replaceSynthDef:v,cleanupParenthesis:u}}),e("cc/server/installer",function(a,b,c){var d=function(b){b=b||{},b.register=function(a){/^__.*__$/.test(a)||(b[a]=function(b){if(null!==b&&void 0!==b){var c=b[a];return"function"==typeof c?c.apply(b,Array.prototype.slice.call(arguments,1)):c}return 0})},a("./server").install(b),a("./array").install(b),a("./bop").install(b),a("./uop").install(b),a("./ugen/installer").install(b),a("./ctrl/installer").install(b),a("./synth/installer").install(b),delete b.register};c.exports={install:d}}),e("cc/server/server",function(b,c,d){var e=b("../cc"),f=b("./fn").constant,g=b("./ctrl/node").Group,h={},i=2*Math.PI,j=function(){function a(){this.klassName="SynthServer",this.sysSyncCount=0,this.sysCurrentTime=0,this.syncItems=new Float32Array(6),this.timerId=0}return a.prototype.send=function(a){postMessage(a)},a.prototype.recv=function(a){if(a){var b=h[a[0]];b&&b.call(this,a)}},a.prototype.getRate=function(a){return this.rates[a]||this.rates[f.CONTROL]},a.prototype.onaudioprocess=function(){if(!(this.syncCount-this.sysSyncCount>=4)){for(var a=this.strm,b=this.strmLength,c=this.rootNode,d=this.bufLength,e=0,f=this.busBuffer,g=this.busClear,h=this.busOutL,i=this.busOutR,j=b/d;j--;)f.set(g),c.process(d),a.set(h,e),a.set(i,e+b),e+=d;this.send(a),this.syncCount+=1}},a}();h["/init"]=function(a){this.sampleRate=a[1],this.channels=a[2],this.strmLength=a[3],this.bufLength=a[4],this.syncCount=a[5],this.strm=new Float32Array(this.strmLength*this.channels),this.rates={},this.rates[f.AUDIO]=new k(this.sampleRate,this.bufLength),this.rates[f.CONTROL]=new k(this.sampleRate/this.bufLength,1),this.rootNode=new g;var b=this.bufLength*f.AUDIO_BUS_LEN+f.CONTROL_BUS_LEN,c=new Float32Array(b),d=this.bufLength,e=this.bufLength<<2;this.busBuffer=c,this.busClear=new Float32Array(b),this.busOutL=new Float32Array(c.buffer,0,d),this.busOutR=new Float32Array(c.buffer,e,d)},h["/play"]=function(a){if(0===this.timerId){var b=this.onaudioprocess.bind(this);this.timerId=setInterval(b,10),this.syncCount=a[1]}},h["/pause"]=function(){this.timerId&&(clearInterval(this.timerId),this.timerId=0)},h["/reset"]=function(){},h["/exec"]=function(b){var c=b[1],d=b[2],e=l(eval.call(a,d));this.send(["/exec",c,e])},h["/loadScript"]=function(a){importScripts(a[1])};var k=function(){function a(a,b){this.klassName="Rate",this.sampleRate=a,this.sampleDur=1/a,this.radiansPerSample=i/a,this.bufLength=b,this.bufDuration=b/a,this.bufRate=1/this.bufDuration,this.slopeFactor=1/b,this.filterLoops=0|b/3,this.filterRemain=0|b%3,this.filterSlope=0===this.filterLoops?0:1/this.filterLoops}return a}(),l=function(){var a=function(b,c){if(!b)return b;if(-1!==c.indexOf(b))return{klassName:"Circular"};if("function"==typeof b)return"[Function]";var d;if("object"==typeof b){if(b.buffer instanceof ArrayBuffer)return b;c.push(b),Array.isArray(b)?d=b.map(function(b){return a(b,c)}):(d={},Object.keys(b).forEach(function(e){d[e]=a(b[e],c)})),c.pop()}else d=b;return d};return function(b){return a(b,[])}}(),m=function(){var b=e.server=new j;addEventListener("message",function(a){var c=a.data;c instanceof Float32Array?(b.sysSyncCount=0|c[0],b.sysCurrentTime=0|c[1],b.syncItems.set(c)):b.recv(c)}),b.send(["/connect"]),"undefined"==typeof a.console&&(a.console=function(){var a={};return["log","debug","info","warn","error"].forEach(function(c){a[c]=function(){b.send(["/console/"+c,Array.prototype.slice.call(arguments)])}}),a}())};d.exports={SynthServer:j,Rate:k,install:m}}),e("cc/server/fn",function(a,b,c){var d=a("./array.impl"),e=[].slice,f=function(){function a(a){this.func=a,this.def=null,this.multi=!1}a.prototype.defaults=function(a){return this.def=a,this},a.prototype.multicall=function(a){return this.multi=void 0===a?!0:!!a,this},a.prototype.build=function(){var a=this.func,f=[],g=[];this.def&&this.def.split(",").forEach(function(a){a=a.trim().split("="),f.push(a[0].trim()),g.push(a.length>1?+a[1].trim():void 0)});var h=a;return this.multi?h=this.def?function(){var h=e.call(arguments);return h=c(f,g,e.call(arguments)),b(h)?d.zip.apply(null,h).map(function(b){return a.apply(this,b)},this):a.apply(this,h)}:function(){var c=e.call(arguments);return b(c)?d.zip.apply(null,c).map(function(b){return a.apply(this,b)},this):a.apply(this,c)}:this.def&&(h=function(){var b=e.call(arguments);return b=c(f,g,e.call(arguments)),a.apply(this,b)}),h};var b=function(a){for(var b=0,c=a.length;c>b;++b)if(Array.isArray(a[b]))return!0;return!1},c=function(a,b,c){var d,e=b.slice();if(f.isDictionary(c[c.length-1])){d=c.pop();for(var g in d){var h=a.indexOf(g);-1!==h&&(e[h]=d[g])}}for(var i=0,j=Math.min(c.length,e.length);j>i;++i)e[i]=c[i];return d&&e.length<a.length-1&&e.push(d),e};return function(b){return new a(b)}}(),g=function(a){var b={};return Object.keys(a).forEach(function(c){b[c]=a[c]}),b};f.extend=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]="classmethods"===d?g(b[d]):b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f.classmethod=function(){var a=function(a,b){return function(){return this instanceof a?b.apply(this,arguments):b.apply(new a,arguments)}};return function(b){var c=b.classmethods||{};Object.keys(b.prototype).forEach(function(a){"$"===a.charAt(0)&&"function"==typeof b.prototype[a]&&(c[a]=b.prototype[a],delete b.prototype[a])}),Object.keys(c).forEach(function(d){var e=c[d];d=d.substr(1),b[d]=a(b,e),b.prototype[d]=e}),b.classmethods=c}}(),f.isDictionary=function(a){return!(!a||a.constructor!==Object)};var h=f.constant={};h.SCALAR=0,h.CONTROL=1,h.AUDIO=2,h.UNIPOLAR=1,h.BIPOLAR=2,h.UNARY_OP_UGEN_MAP="num neg not tilde".split(" "),h.BINARY_OP_UGEN_MAP="+ - * / %".split(" "),h.AUDIO_BUS_LEN=128,h.CONTROL_BUS_LEN=4096,c.exports=f}),e("cc/server/array.impl",function(a,b,c){var d=[].slice,e=function(){var a=d.call(arguments),b=a.reduce(function(a,b){return Math.max(a,Array.isArray(b)?b.length:1)},0),c=new Array(b),e=a.length;if(0===e)c[0]=[];else for(var f=0;b>f;++f)for(var g=c[f]=new Array(e),h=0;e>h;++h)g[h]=Array.isArray(a[h])?a[h][f%a[h].length]:a[h];return c},f=function(a,b,c){for(var d=0,e=a.length;e>d;++d)0>=b||!Array.isArray(a[d])?c.push(a[d]):c=f(a[d],b-1,c);return c},g=function(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;++e)d.push(a[e]),d.length>=b&&(c.push(d),d=[]);return d.length>0&&c.push(d),c};c.exports={zip:e,flatten:f,clump:g}}),e("cc/server/ctrl/node",function(a,b,c){var d=a("../../cc"),e=a("../fn"),f=e.constant,g=a("../synth/fixnum").FixNum,h=a("../synth/unit").Unit,i=function(){function a(){this.klassName="Node",this.next=null,this.prev=null,this.parent=null,this.running=!0}var b={};return b.addToHead=function(a){var b;null===this.head?this.head=this.tail=a:(b=this.head.prev,b&&(b.next=a),a.next=this.head,this.head.prev=a,this.head=a),a.parent=this},b.addToTail=function(a){var b;null===this.tail?this.head=this.tail=a:(b=this.tail.next,b&&(b.prev=a),a.prev=this.tail,this.tail.next=a,this.tail=a),a.parent=this},b.addBefore=function(a){var b=this.prev;this.prev=a,a.prev=b,b&&(b.next=a),a.next=this,this.parent&&this.parent.head===this&&(this.parent.head=a),a.parent=this.parent},b.addAfter=function(a){var b=this.next;this.next=a,a.next=b,b&&(b.prev=a),a.prev=this,this.parent&&this.parent.tail===this&&(this.parent.tail=a),a.parent=this.parent},a.prototype.append=function(a,c){return b[c]&&b[c].call(this,a),this},a.prototype.remove=function(){return this.parent&&(this.parent.head===this&&(this.parent.head=this.next),this.parent.tail===this&&(this.parent.tail=this.prev)),this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=null,this.next=null,this.parent=null,this},a}(),j=function(){function a(){i.call(this),this.klassName="Group",this.head=null,this.tail=null}return e.extend(a,i),a.prototype.process=function(a){this.head&&this.running&&this.head.process(a),this.next&&this.next.process(a)},a}(),k=function(){function a(a,c,d,e){i.call(this),this.klassName="Synth",this.specs=JSON.parse(a),c.append(this,e),b.call(this,this.specs,d)}e.extend(a,i);var b=function(a,b){this.server=d.server;var c=a.consts.map(function(a){return new g(a)}),e=a.defs.map(function(a){return new h(this,a)},this);this.controls=new Float32Array(a.params.values),this.set(b),this.unitList=e.filter(function(a){for(var b=a.inputs,d=a.inRates,g=a.specs[3],h=0,i=b.length;i>h;++h){var j=h<<1;-1===g[j]?(b[h]=c[g[j+1]].outs[0],d[h]=f.SCALAR):(b[h]=e[g[j]].outs[g[j+1]],d[h]=e[g[j]].outRates[g[j+1]])}return a.init(),!!a.process})};return a.prototype.set=function(a){return a?this:this},a.prototype.process=function(a){if(this.running)for(var b=this.unitList,c=0,d=b.length;d>c;++c){var e=b[c];e.process(e.rate.bufLength)}this.next&&this.next.process(a)},a}(),l=function(){};c.exports={Node:i,Group:j,Synth:k,install:l}}),e("cc/server/synth/fixnum",function(a,b,c){var d={},e=function(){function a(a){return d[a]?d[a]:(this.klassName="FixNum",this.outs=[new Float32Array([a])],d[a]=this,void 0)}return a.reset=function(){d={}},a}();c.exports={FixNum:e}}),e("cc/server/synth/unit",function(a,b,c){var d={},e=function(){function a(a,b){this.klassName="Unit",this.parent=a,this.specs=b,this.name=b[0],this.calcRate=b[1],this.specialIndex=b[2],this.numOfInputs=b[3].length>>1,this.numOfOutputs=b[4].length,this.inputs=new Array(this.numOfInputs),this.inRates=new Array(this.numOfInputs),this.outRates=b[4],this.rate=a.server.getRate(this.calcRate);for(var c=this.rate.bufLength,d=new Array(this.numOfOutputs),e=0,f=d.length;f>e;++e)d[e]=new Float32Array(c);this.outs=d,this.bufLength=c,this.done=!1}return a.prototype.init=function(){var a=d[this.name];return a?a.call(this):console.warn(this.name+"'s ctor is not found."),this},a}(),f=function(a,b){d[a]=b()},g=function(){};c.exports={Unit:e,register:f,install:g}}),e("cc/server/array",function(a,b,c){var d=a("./fn"),e=a("./array.impl"),f=e.zip,g=d(function(a,b){return Array.isArray(a)?e.flatten(a,b,[]):[a]}).defaults("list,level=Infinity").build(),h=d(function(a,b){return Array.isArray(a)?e.clump(a,b):[a]}).defaults("list,groupSize=2").build(),i=function(a){Array.prototype.zip=function(){return f.apply(null,this)},Array.prototype.flatten=d(function(a){return e.flatten(this,a,[])}).defaults("level=Infinity").build(),Array.prototype.clump=d(function(a){return e.clump(this,a)}).defaults("groupSize=2").build(),Array.prototype.toString=function(){return"[ "+this.map(function(a){return a?a.toString():a+""}).join(", ")+" ]"},a&&(a.zip=f,a.flatten=g,a.clump=h)};c.exports={install:i,zip:f,flatten:g,clump:h}}),e("cc/server/bop",function(a,b,c){var d=a("./ugen/ugen").UGen,e=a("./ugen/basic_ops").BinaryOpUGen,f={__add__:"+",__sub__:"-",__mul__:"*",__div__:"/",__mod__:"%"},g=function(){Object.keys(h).forEach(function(a){var b=f[a]||a,c=h[a];if(Number.prototype[a]=function(f){return Array.isArray(f)?f.map(function(b){return this[a](b)},this):f instanceof d?e.new(b,this,f):c(this,f)},h[a].array&&(c=h[a]),Array.prototype[a]=function(c){var f=this;return Array.isArray(c)?f.length===c.length?f.map(function(b,d){return b[a](c[d])}):f.length>c.length?f.map(function(b,d){return b[a](c[d%c.length])}):c.map(function(b,c){return f[c%f.length][a](b)}):c instanceof d?e.new(b,this,c):f.map(function(b){return b[a](c)})},d.prototype[a]=function(a){return e.new(b,this,a)},h[a].str){var g=h[a].str;String.prototype[a]=function(b){return Array.isArray(b)?b.map(function(b){return this[a](b)},this):g(this,b)}}})},h={};h.__add__=function(a,b){return a+b},h.__add__.str=h.__add__,h.__sub__=function(a,b){return a-b},h.__mul__=function(a,b){return a*b},h.__mul__.str=function(a,b){if("number"==typeof b){for(var c=new Array(Math.max(0,b)),d=0;b>d;d++)c[d]=a;return c.join("")}return a},h.__div__=function(a,b){return a/b},h.__mod__=function(a,b){return a%b},c.exports={install:g}}),e("cc/server/ugen/ugen",function(a,b,c){var d=a("../fn"),e=d.constant,f=a("../array.impl"),g=[].slice,h=null,i=function(){function a(){this.klassName="UGen",this.rate=e.AUDIO,this.signalRange=e.BIPOLAR,this.specialIndex=0,this.outputIndex=0,this.numOfInputs=0,this.numOfOutputs=1,this.inputs=[]}return a.prototype.$new1=function(a){var b=g.call(arguments,1);return this.rate=a,h&&h(this),this.numOfInputs=this.inputs.length,this.initialize.apply(this,b)},a.prototype.$multiNew=function(){return this.multiNewList(g.call(arguments))},a.prototype.$multiNewList=function(a){var b=f.zip.apply(null,a);return 1===b.length?this.new1.apply(this,a):b.map(function(a){return this.constructor.multiNewList(a)},this)},d.classmethod(a),a.prototype.initialize=function(){return this.inputs=g.call(arguments),this},a}(),j=function(){function a(){i.call(this),this.klassName="MultiOutUGen",this.channels=null}return d.extend(a,i),d.classmethod(a),a.prototype.initOutputs=function(a,b){for(var c=new Array(a),d=0;a>d;++d)c[d]=k.new(b,this,d);return this.channels=c,this.numOfOutputs=c.length,this.inputs=this.inputs.map(function(a){return a instanceof i?a:a.valueOf()}),this.numOfInputs=this.inputs.length,1===a?c[0]:c},a}(),k=function(){function a(){i.call(this),this.klassName="OutputProxy"}return d.extend(a,i),a.prototype.$new=function(a,b,c){return this.new1(a,b,c)},d.classmethod(a),a.prototype.initialize=function(a,b){return this.inputs=[a],this.numOfInputs=1,this.outputIndex=b,this},a}(),l=function(){function a(){j.call(this),this.klassName="Control",this.values=[]}return d.extend(a,j),a.prototype.$kr=function(a){return this.multiNewList([e.CONTROL].concat(a))},d.classmethod(a),a.prototype.initialize=function(){return this.values=g.call(arguments),this.initOutputs(this.values.length,this.rate)},a}(),m=function(){function a(){i.call(this),this.klassName="Out",this.numOutputs=0}return d.extend(a,i),a.prototype.$ar=d(function(a,b){return this.multiNewList([e.AUDIO,a].concat(b)),0}).defaults("bus=0,channelsArray=0").build(),a.prototype.$kr=d(function(a,b){return this.multiNewList([e.CONTROL,a].concat(b)),0}).defaults("bus=0,channelsArray=0").build(),d.classmethod(a),a}(),n=function(a){h=a},o=function(a){a.Out=m};c.exports={UGen:i,MultiOutUGen:j,OutputProxy:k,Control:l,Out:m,setSynthDef:n,install:o}}),e("cc/server/ugen/basic_ops",function(a,b,c){var d=a("../fn"),e=d.constant,f=a("../array.impl"),g=a("./ugen").UGen,h=function(a){return Array.isArray(a)?a.reduce(function(a,b){return Math.max(a,h(b))},0):a&&a.rate||0},i=function(){function a(){g.call(this),this.klassName="UnaryOpUGen"}return d.extend(a,g),a.prototype.$new=function(a,b){return this.multiNew(e.AUDIO,a,b)},d.classmethod(a),a.prototype.initialize=function(a,b){this.op=a;var c=e.UNARY_OP_UGEN_MAP.indexOf(a);if(-1===c)throw"Unknown operator: "+a;return this.specialIndex=c,this.rate=b.rate|e.SCALAR,this.inputs=[b],this},a}(),j=function(){function a(){g.call(this),this.klassName="BinaryOpUGen"}return d.extend(a,g),a.prototype.$new=function(a,b,c){return this.multiNew(null,a,b,c)},a.prototype.$new1=function(b,c,d,f){if("-"===c&&"number"==typeof f&&(c="+",f=-f),"/"===c&&"number"==typeof f&&(c="*",f=1/f),"*"===c)return"number"==typeof d&&"number"==typeof f?d*f:0===d||0===f?0:o(d,f);if("+"===c){if("number"==typeof d&&"number"==typeof f)return d+f;if(0===d)return f;if(0===f)return d;if(d instanceof a){if("*"===d.op)return k.new1(null,d.inputs[0],d.inputs[1],f)}else if(d instanceof k)return"number"==typeof d.inputs[2]&&"number"==typeof f?0===d.inputs[2]+f?a.new1(null,"*!",d.inputs[0],d.inputs[1]):(d.inputs[2]+=f,d):(f=a.new1(null,"+",d.inputs[2],f),d=a.new1(null,"*!",d.inputs[0],d.inputs[1]),a.new1(null,"+",d,f));return n(d,f)}return"+!"===c?c="+":"*!"===c&&(c="*"),g.new1.apply(this,[e.AUDIO].concat(c,d,f))},d.classmethod(a),a.prototype.initialize=function(a,b,c){this.op=a;var d=e.BINARY_OP_UGEN_MAP.indexOf(a);if(-1===d)throw"Unknown operator: "+a;return this.specialIndex=d,this.rate=Math.max(b.rate|e.SCALAR,c.rate|e.SCALAR),this.inputs=[b,c],this},a}(),k=function(){function a(){g.call(this),this.klassName="MulAdd"}d.extend(a,g),a.prototype.$new=function(a,b,c){return this.multiNew(null,a,b,c)},a.prototype.$new1=function(a,c,d,f){var h,i,k,l;return c.rate-d.rate<0&&(h=c,c=d,d=h),0===d?f:(i=-1===d,k=1===d,l=0===f,k&&l?c:i&&l?j.new1(null,"*",c,-1):l?j.new1(null,"*",c,d):i?j.new1(null,"-",f,c):k?j.new1(null,"+",c,f):b(c,d,f)?g.new1.apply(this,[e.AUDIO].concat(c,d,f)):b(d,c,f)?g.new1.apply(this,[e.AUDIO].concat(d,c,f)):c*d+f)},d.classmethod(a),a.prototype.initialize=function(a,b,c){var d=[a,b,c];return this.inputs=d,this.rate=h(d),this};var b=function(a,b,c){return a=h(a),b=h(b),c=h(c),a===e.AUDIO?!0:a!==e.CONTROL||b!==e.CONTROL&&b!==e.SCALAR||c!==e.CONTROL&&c!==e.SCALAR?!1:!0};return a}(),l=function(){function a(){g.call(this),this.klassName="Sum3"}return d.extend(a,g),a.prototype.$new=function(a,b,c){return this.multiNew(null,a,b,c)},a.prototype.$new1=function(a,b,c,d){if(0===b)return j.new1(null,"+",c,d);if(0===c)return j.new1(null,"+",b,d);if(0===d)return j.new1(null,"+",b,c);var e=[b,c,d],f=h(e),i=e.sort(function(a,b){return b.rate-a.rate});return g.new1.apply(this,[f].concat(i))},d.classmethod(a),a}(),m=function(){function a(){g.call(this),this.klassName="Sum4"}return d.extend(a,g),a.prototype.$new=function(a,b,c,d){return this.multiNew(null,a,b,c,d)
},a.prototype.$new1=function(a,b,c,d,e){if(0===b)return l.new1(null,c,d,e);if(0===c)return l.new1(null,b,d,e);if(0===d)return l.new1(null,b,c,e);if(0===e)return l.new1(null,b,c,d);var f=[b,c,d,e],i=h(f),j=f.sort(function(a,b){return b.rate-a.rate});return g.new1.apply(this,[i].concat(j))},d.classmethod(a),a}(),n=function(){var a=function(b){if("number"==typeof b)return b;var c=b.inputs;return b instanceof j&&"+"===b.op?[a(c[0]),a(c[1])]:b instanceof l?[a(c[0]),a(c[1]),a(c[2])]:b instanceof m?[a(c[0]),a(c[1]),a(c[2]),a(c[3])]:b},b=function(a){switch(a=a.map(function(a){switch(a.length){case 4:return m.new1(null,a[0],a[1],a[2],a[3]);case 3:return l.new1(null,a[0],a[1],a[2]);case 2:return j.new1(null,"+!",a[0],a[1]);case 1:return a[0]}}),a.length){case 4:return m.new1(null,a[0],a[1],a[2],a[3]);case 3:return l.new1(null,a[0],a[1],a[2]);case 2:return j.new1(null,"+!",a[0],a[1]);case 1:return a[0];default:return b(f.clump(a,4))}};return function(c,d){var e=f.flatten([a(c),a(d)],1/0,[]),g=0;return e=e.filter(function(a){return"number"==typeof a?(g+=a,!1):!0}),0!==g&&e.push(g),e=f.clump(e,4),1===e.length&&2===e[0].length?j.new1(null,"+!",e[0][0],e[0][1]):b(e)}}(),o=function(){var a=function(b){if("number"==typeof b)return b;var c=b.inputs;return b instanceof j&&"*"===b.op?[a(c[0]),a(c[1])]:b},b=function(a){switch(a=a.map(function(a){return 2===a.length?j.new1(null,"*!",a[0],a[1]):a[0]}),a.length){case 2:return j.new1(null,"*!",a[0],a[1]);case 1:return a[0];default:return b(f.clump(a,2))}};return function(c,d){var e=f.flatten([a(c),a(d)],1/0,[]),g=1;return e=e.filter(function(a){return"number"==typeof a?(g*=a,!1):!0}),1!==g&&e.push(g),e=f.clump(e,2),1===e.length&&2===e[0].length?j.new1(null,"*!",e[0][0],e[0][1]):b(e)}}();Number.prototype.madd=d(function(a,b){return k.new(this,a,b)}).defaults("mul=1,add=0").build(),Array.prototype.madd=d(function(a,b){return f.zip.apply(null,[this,a,b]).map(function(a){var b=a[0],c=a[1],d=a[2];return k.new(b,c,d)})}).defaults("mul=1,add=0").build(),g.prototype.madd=d(function(a,b){return k.new(this,a,b)}).defaults("mul=1,add=0").build(),g.prototype.range=d(function(a,b){var c,d;return this.signalRange===e.BIPOLAR?(c=.5*(b-a),d=c+a):(c=b-a,d=a),k.new1(null,this,c,d)}).defaults("lo=0,hi=1").multicall().build(),g.prototype.unipolar=d(function(a){return this.range(0,a)}).defaults("mul=1").build(),g.prototype.bipolar=d(function(a){return this.range(a.neg(),a)}).defaults("mul=1").build();var p=function(){};c.exports={UnaryOpUGen:i,BinaryOpUGen:j,MulAdd:k,Sum3:l,Sum4:m,install:p}}),e("cc/server/uop",function(a,b,c){var d=function(a){Object.keys(e).forEach(function(b){var c=e[b];Number.prototype[b]=function(){return c(this)},Array.prototype[b]=function(){return this.map(function(a){return a[b]()})},Boolean.prototype[b]=function(){return c(+this)},String.prototype[b]=function(){return c(+this)},a&&a.register&&a.register(b)})},e={};e.num=function(a){return+a},e.neg=function(a){return-a},e.not=function(a){return!a},e.tilde=function(a){return~a},c.exports={install:d}}),e("cc/server/ugen/installer",function(a,b,c){var d=function(b){a("./ugen").install(b),a("./basic_ops").install(b),a("./osc").install(b),a("./def").install(b)};c.exports={install:d}}),e("cc/server/ugen/osc",function(a,b,c){var d=a("../fn"),e=d.constant,f=a("./ugen").UGen,g=function(){function a(){f.call(this),this.klassName="SinOsc"}return d.extend(a,f),a.prototype.$ar=d(function(a,b,c,d){return this.multiNew(e.AUDIO,a,b).madd(c,d)}).defaults("freq=440,phase=0,mul=1,add=0").build(),a.prototype.$kr=d(function(a,b,c,d){return this.multiNew(e.CONTROL,a,b).madd(c,d)}).defaults("freq=440,phase=0,mul=1,add=0").build(),d.classmethod(a),a}(),h=function(a){a.SinOsc=g};c.exports={SinOsc:g,install:h}}),e("cc/server/ugen/def",function(a,b,c){var d=a("../../cc"),e=a("../fn"),f=a("./ugen"),g=a("../ctrl/node").Node,h=a("../ctrl/node").Synth,i=function(){function a(){this.klassName="SynthDef"}a.prototype.initialize=function(a,c){c=k(c);var d=c.vals.every(function(a){return"number"==typeof a?!0:Array.isArray(a)?a.every(function(a){return"number"==typeof a}):void 0===a||null===a?!0:!1});if(!d)throw"UgenGraphFunc's arguments should be a number or an array that contains a number.";var e,g,h,i={names:[],indices:[],length:[],values:[]},j=[];for(e=0,g=c.vals.length;g>e;++e)h=Array.isArray(c.vals[e])?c.vals[e].length:1,i.names.push(c.keys[e]),i.indices.push(j.length),i.length.push(h),i.values=i.values.concat(c.vals[e]),j=j.concat(c.vals[e]);var l=[],m=f.Control.kr(j);for(Array.isArray(m)||(m=[m]),e=0;g>e;++e)Array.isArray(c.vals[e])?l.push(m.slice(0,c.vals[e].length)):l.push(m.shift());var n=[];f.setSynthDef(function(a){n.push(a)});try{a.apply(null,l)}catch(o){throw o.toString()}finally{f.setSynthDef(null)}var p=[];n.forEach(function(a){a.inputs&&a.inputs.forEach(function(a){"number"==typeof a&&-1===p.indexOf(a)&&p.push(a)})}),p.sort();var q=b(n).filter(function(a){return!("number"==typeof a||a instanceof f.OutputProxy)}),r=q.map(function(a){var b=[];a.inputs&&a.inputs.forEach(function(a){var c=q.indexOf(a instanceof f.OutputProxy?a.inputs[0]:a),d=-1!==c?a.outputIndex:p.indexOf(a);b.push(c,d)});var c;return c=a instanceof f.MultiOutUGen?a.channels.map(function(a){return a.rate}):1===a.numOfOutputs?[a.rate]:[],[a.klassName,a.rate,0|a.specialIndex,b,c]}),s={consts:p,defs:r,params:i};this.specs=s},a.prototype.play=e(function(){var a,b,c,f=0;switch(a=b,a=arguments[f]instanceof g?arguments[f++]:d.server.rootNode,e.isDictionary(arguments[f])&&(b=arguments[f++]),arguments[f]){case"addToHead":case"addToTail":case"addBefore":case"addAfter":c=arguments[f++];break;default:c="addToHead"}return new h(JSON.stringify(this.specs),a,b,c)}).defaults("target,args,addAction='addToHead'").multicall().build();var b=function(){var a=function(b,c){var d=c.indexOf(b);-1!==d&&c.splice(d,1),c.unshift(b),b.inputs&&b.inputs.forEach(function(b){a(b,c)})};return function(b){return b.forEach(function(c){c instanceof f.Out&&c.inputs.forEach(function(c){a(c,b)})}),b}}();return a}(),j=function(a){for(var b=[],c=0,d=0,e=null,f=0,g=a.length;g>f;++f){var h=a.charAt(f);if(("\\"!==a.charAt(f-1)||"\\"===a.charAt(f-2))&&(('"'===h||"'"===h)&&(null===e?e=h:e===h&&(e=null)),!e))switch(h){case",":0===d&&(b.push(a.slice(c,f).trim()),c=f+1);break;case"[":d+=1;break;case"]":d-=1}}return c!==f&&b.push(a.slice(c,f).trim()),b},k=function(a){var b=[],c=[];return a&&j(a).forEach(function(a){var d,e,f=a.indexOf("=");-1===f?(d=a,e=void 0):(d=a.substr(0,f).trim(),e=eval.call(null,a.substr(f+1))),b.push(d),c.push(e)}),{keys:b,vals:c}},l=function(a){a.def=function(a){if("function"==typeof a){var b=new i;return b.initialize.apply(b,arguments),b}throw"def() requires a function."}};c.exports={splitArguments:j,unpackArguments:k,install:l}}),e("cc/server/ctrl/installer",function(a,b,c){var d=function(b){a("./node").install(b)};c.exports={install:d}}),e("cc/server/synth/installer",function(a,b,c){var d=function(){a("./out").install(),a("./bop").install(),a("./control").install(),a("./sinosc").install()};c.exports={install:d}}),e("cc/server/synth/out",function(a,b,c){var d=a("../fn").constant,e=a("./unit"),f=function(){var a=function(){this._busBuffer=this.parent.server.busBuffer,this._bufLength=this.parent.server.bufLength,this.calcRate===d.AUDIO?(this.process=b,this._busOffset=0):(this.process=c,this._busOffset=this._bufLength*d.AUDIO_BUS_LEN)},b=function(a){a=0|a;for(var b,c,d=this.inputs,e=this._busBuffer,f=this._bufLength,g=(0|d[0][0])-1,h=1,i=d.length;i>h;++h){b=(g+h)*f,c=d[h];for(var j=0;a>j;j++)e[b+j]+=c[j]}},c=function(){for(var a=this.inputs,b=this._busBuffer,c=this._busOffset+(0|a[0][0])-1,d=1,e=a.length;e>d;++d)b[c+d]+=a[d][0]};return a};c.exports={install:function(){e.register("Out",f)}}}),e("cc/server/synth/bop",function(a,b,c){var d=a("../fn").constant,e=a("./unit"),f=10*d.AUDIO+d.AUDIO,g=10*d.AUDIO+d.CONTROL,h=10*d.AUDIO+d.SCALAR,i=10*d.CONTROL+d.AUDIO,j=10*d.CONTROL+d.CONTROL,k=10*d.CONTROL+d.SCALAR,l=10*d.SCALAR+d.AUDIO,m=10*d.SCALAR+d.CONTROL,n=10*d.SCALAR+d.SCALAR,o={},p=function(){var a=function(){var a,b=o[d.BINARY_OP_UGEN_MAP[this.specialIndex]];if(b){switch(10*this.inRates[0]+this.inRates[1]){case f:a=b.aa;break;case g:a=b.ak;break;case h:a=b.ai;break;case i:a=b.ka;break;case j:a=b.kk;break;case k:a=b.ki;break;case l:a=b.ia;break;case m:a=b.ik;break;case n:a=b.ii}this.process=a,this._a=this.inputs[0][0],this._b=this.inputs[1][0],this.process?this.process(1):this.outs[0][0]=b(this.inputs[0][0],this.inputs[1][0])}else console.log("BinaryOpUGen["+this.specialIndex+"] is not defined.")};return a},q=function(a){return function(b){b=0|b;for(var c=this.outs[0],d=this.inputs[0],e=this.inputs[1],f=0;b>f;f+=8)c[f]=a(d[f],e[f]),c[f+1]=a(d[f+1],e[f+1]),c[f+2]=a(d[f+2],e[f+2]),c[f+3]=a(d[f+3],e[f+3]),c[f+4]=a(d[f+4],e[f+4]),c[f+5]=a(d[f+5],e[f+5]),c[f+6]=a(d[f+6],e[f+6]),c[f+7]=a(d[f+7],e[f+7])}},r=function(a){return function(b){b=0|b;for(var c=this.outs[0],d=this.inputs[0],e=this._b,f=this.inputs[1][0],g=(f-this._b)*this.rate.slopeFactor,h=0;b>h;h+=8)c[h]=a(d[h],e),e+=g,c[h+1]=a(d[h+1],e),e+=g,c[h+2]=a(d[h+2],e),e+=g,c[h+3]=a(d[h+3],e),e+=g,c[h+4]=a(d[h+4],e),e+=g,c[h+5]=a(d[h+5],e),e+=g,c[h+6]=a(d[h+6],e),e+=g,c[h+7]=a(d[h+7],e),e+=g;this._b=f}},s=function(a){return function(b){b=0|b;for(var c=this.outs[0],d=this.inputs[0],e=this._b,f=0;b>f;f+=8)c[f]=a(d[f],e),c[f+1]=a(d[f+1],e),c[f+2]=a(d[f+2],e),c[f+3]=a(d[f+3],e),c[f+4]=a(d[f+4],e),c[f+5]=a(d[f+5],e),c[f+6]=a(d[f+6],e),c[f+7]=a(d[f+7],e)}},t=function(a){return function(b){b=0|b;for(var c=this.outs[0],d=this._a,e=this.inputs[1],f=this.inputs[0][0],g=(f-this._a)*this.rate.slopeFactor,h=0;b>h;h+=8)c[h]=a(d,e[h]),d+=g,c[h+1]=a(d,e[h+1]),d+=g,c[h+2]=a(d,e[h+2]),d+=g,c[h+3]=a(d,e[h+3]),d+=g,c[h+4]=a(d,e[h+4]),d+=g,c[h+5]=a(d,e[h+5]),d+=g,c[h+6]=a(d,e[h+6]),d+=g,c[h+7]=a(d,e[h+7]),d+=g;this._a=f}},u=function(a){return function(){this.outs[0][0]=a(this.inputs[0][0],this.inputs[1][0])}},v=function(a){return function(b){b=0|b;for(var c=this.outs[0],d=this._a,e=this.inputs[1],f=0;b>f;f+=8)c[f]=a(d,e[f]),c[f+1]=a(d,e[f+1]),c[f+2]=a(d,e[f+2]),c[f+3]=a(d,e[f+3]),c[f+4]=a(d,e[f+4]),c[f+5]=a(d,e[f+5]),c[f+6]=a(d,e[f+6]),c[f+7]=a(d,e[f+7])}};o["+"]=function(a,b){return a+b},o["+"].aa=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this.inputs[1],e=0;a>e;e+=8)b[e]=c[e]+d[e],b[e+1]=c[e+1]+d[e+1],b[e+2]=c[e+2]+d[e+2],b[e+3]=c[e+3]+d[e+3],b[e+4]=c[e+4]+d[e+4],b[e+5]=c[e+5]+d[e+5],b[e+6]=c[e+6]+d[e+6],b[e+7]=c[e+7]+d[e+7]},o["+"].ak=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this._b,e=this.inputs[1][0],f=(e-this._b)*this.rate.slopeFactor,g=0;a>g;g+=8)b[g]=c[g]+d,d+=f,b[g+1]=c[g+1]+d,d+=f,b[g+2]=c[g+2]+d,d+=f,b[g+3]=c[g+3]+d,d+=f,b[g+4]=c[g+4]+d,d+=f,b[g+5]=c[g+5]+d,d+=f,b[g+6]=c[g+6]+d,d+=f,b[g+7]=c[g+7]+d,d+=f;this._b=e},o["+"].ai=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this._b,e=0;a>e;e+=8)b[e]=c[e]+d,b[e+1]=c[e+1]+d,b[e+2]=c[e+2]+d,b[e+3]=c[e+3]+d,b[e+4]=c[e+4]+d,b[e+5]=c[e+5]+d,b[e+6]=c[e+6]+d,b[e+7]=c[e+7]+d},o["+"].ka=function(a){a=0|a;for(var b=this.outs[0],c=this._a,d=this.inputs[1],e=this.inputs[0][0],f=(e-this._a)*this.rate.slopeFactor,g=0;a>g;g+=8)b[g]=c+d[g],c+=f,b[g+1]=c+d[g+1],c+=f,b[g+2]=c+d[g+2],c+=f,b[g+3]=c+d[g+3],c+=f,b[g+4]=c+d[g+4],c+=f,b[g+5]=c+d[g+5],c+=f,b[g+6]=c+d[g+6],c+=f,b[g+7]=c+d[g+7],c+=f;this._a=e},o["+"].kk=function(){this.outs[0][0]=this.inputs[0][0]+this.inputs[1][0]},o["+"].ia=function(a){a=0|a;for(var b=this.outs[0],c=this._a,d=this.inputs[1],e=0;a>e;e+=8)b[e]=c+d[e],b[e+1]=c+d[e+1],b[e+2]=c+d[e+2],b[e+3]=c+d[e+3],b[e+4]=c+d[e+4],b[e+5]=c+d[e+5],b[e+6]=c+d[e+6],b[e+7]=c+d[e+7]},o["-"]=function(a,b){return a-b},o["-"].aa=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this.inputs[1],e=0;a>e;e+=8)b[e]=c[e]-d[e],b[e+1]=c[e+1]-d[e+1],b[e+2]=c[e+2]-d[e+2],b[e+3]=c[e+3]-d[e+3],b[e+4]=c[e+4]-d[e+4],b[e+5]=c[e+5]-d[e+5],b[e+6]=c[e+6]-d[e+6],b[e+7]=c[e+7]-d[e+7]},o["-"].ak=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this._b,e=this.inputs[1][0],f=(e-this._b)*this.rate.slopeFactor,g=0;a>g;g+=8)b[g]=c[g]-d,d+=f,b[g+1]=c[g+1]-d,d+=f,b[g+2]=c[g+2]-d,d+=f,b[g+3]=c[g+3]-d,d+=f,b[g+4]=c[g+4]-d,d+=f,b[g+5]=c[g+5]-d,d+=f,b[g+6]=c[g+6]-d,d+=f,b[g+7]=c[g+7]-d,d+=f;this._b=e},o["-"].ai=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this._b,e=0;a>e;e+=8)b[e]=c[e]-d,b[e+1]=c[e+1]-d,b[e+2]=c[e+2]-d,b[e+3]=c[e+3]-d,b[e+4]=c[e+4]-d,b[e+5]=c[e+5]-d,b[e+6]=c[e+6]-d,b[e+7]=c[e+7]-d},o["-"].ka=function(a){a=0|a;for(var b=this.outs[0],c=this._a,d=this.inputs[1],e=this.inputs[0][0],f=(e-this._a)*this.rate.slopeFactor,g=0;a>g;g+=8)b[g]=c-d[g],c+=f,b[g+1]=c-d[g+1],c+=f,b[g+2]=c-d[g+2],c+=f,b[g+3]=c-d[g+3],c+=f,b[g+4]=c-d[g+4],c+=f,b[g+5]=c-d[g+5],c+=f,b[g+6]=c-d[g+6],c+=f,b[g+7]=c-d[g+7],c+=f;this._a=e},o["-"].kk=function(){this.outs[0][0]=this.inputs[0][0]-this.inputs[1][0]},o["-"].ia=function(a){a=0|a;for(var b=this.outs[0],c=this._a,d=this.inputs[1],e=0;a>e;e+=8)b[e]=c-d[e],b[e+1]=c-d[e+1],b[e+2]=c-d[e+2],b[e+3]=c-d[e+3],b[e+4]=c-d[e+4],b[e+5]=c-d[e+5],b[e+6]=c-d[e+6],b[e+7]=c-d[e+7]},o["*"]=function(a,b){return a*b},o["*"].aa=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this.inputs[1],e=0;a>e;e+=8)b[e]=c[e]*d[e],b[e+1]=c[e+1]*d[e+1],b[e+2]=c[e+2]*d[e+2],b[e+3]=c[e+3]*d[e+3],b[e+4]=c[e+4]*d[e+4],b[e+5]=c[e+5]*d[e+5],b[e+6]=c[e+6]*d[e+6],b[e+7]=c[e+7]*d[e+7]},o["*"].ak=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this._b,e=this.inputs[1][0],f=(e-this._b)*this.rate.slopeFactor,g=0;a>g;g+=8)b[g]=c[g]*d,d+=f,b[g+1]=c[g+1]*d,d+=f,b[g+2]=c[g+2]*d,d+=f,b[g+3]=c[g+3]*d,d+=f,b[g+4]=c[g+4]*d,d+=f,b[g+5]=c[g+5]*d,d+=f,b[g+6]=c[g+6]*d,d+=f,b[g+7]=c[g+7]*d,d+=f;this._b=e},o["*"].ai=function(a){a=0|a;for(var b=this.outs[0],c=this.inputs[0],d=this._b,e=0;a>e;e+=8)b[e]=c[e]*d,b[e+1]=c[e+1]*d,b[e+2]=c[e+2]*d,b[e+3]=c[e+3]*d,b[e+4]=c[e+4]*d,b[e+5]=c[e+5]*d,b[e+6]=c[e+6]*d,b[e+7]=c[e+7]*d},o["*"].ka=function(a){a=0|a;for(var b=this.outs[0],c=this._a,d=this.inputs[1],e=this.inputs[0][0],f=(e-this._a)*this.rate.slopeFactor,g=0;a>g;g+=8)b[g]=c*d[g],c+=f,b[g+1]=c*d[g+1],c+=f,b[g+2]=c*d[g+2],c+=f,b[g+3]=c*d[g+3],c+=f,b[g+4]=c*d[g+4],c+=f,b[g+5]=c*d[g+5],c+=f,b[g+6]=c*d[g+6],c+=f,b[g+7]=c*d[g+7],c+=f;this._a=e},o["*"].kk=function(){this.outs[0][0]=this.inputs[0][0]*this.inputs[1][0]},o["*"].ia=function(a){a=0|a;for(var b=this.outs[0],c=this._a,d=this.inputs[1],e=0;a>e;e+=8)b[e]=c*d[e],b[e+1]=c*d[e+1],b[e+2]=c*d[e+2],b[e+3]=c*d[e+3],b[e+4]=c*d[e+4],b[e+5]=c*d[e+5],b[e+6]=c*d[e+6],b[e+7]=c*d[e+7]},o["/"]=function(a,b){return 0===b?0:a/b},o["%"]=function(a,b){return 0===b?0:a%b},Object.keys(o).forEach(function(a){var b=o[a];b.aa||(b.aa=q(b)),b.ak||(b.ak=r(b)),b.ai||(b.ai=s(b)),b.ka||(b.ka=t(b)),b.kk||(b.kk=u(b)),b.ki||(b.ki=b.kk),b.ia||(b.ia=v(b)),b.ik||(b.ik=b.kk)}),c.exports={install:function(){e.register("BinaryOpUGen",p)}}}),e("cc/server/synth/control",function(a,b,c){var d=a("./unit"),e=function(){var a=function(){this.process=1===this.numOfOutputs?b:c,this.process(1)},b=function(){this.outs[0][0]=this.parent.controls[this.specialIndex]},c=function(){for(var a=this.parent.controls,b=this.outs,c=this.specialIndex,d=0,e=b.length;e>d;++d)b[d][0]=a[d+c]};return a};c.exports={install:function(){d.register("Control",e)}}}),e("cc/server/synth/sinosc",function(a,b,c){var d=a("../fn").constant,e=a("./unit"),f=2*Math.PI,g=8192,h=g-1,i=new Float32Array([1e20])[0],j=new Float32Array(g+1),k=new Float32Array(g+1),l=new Float32Array(2*g);!function(){var a;for(a=0;g>a;++a){var b=Math.sin(f*(a/g));j[a]=b,k[a]=1/b}j[g]=j[0],k[0]=k[g>>1]=k[g]=i;var c=g,d=c>>1;for(a=1;8>=a;++a)k[a]=k[c-a]=k[d-a]=k[d+a]=i}(),function(){!function(a,b,c){var d,e,f,g;for(f=g=0;c-1>f;++f)d=a[f],e=a[f+1],b[g++]=2*d-e,b[g++]=e-d;d=a[c-1],e=a[0],b[g++]=2*d-e,b[g++]=e-d}(j,l,g)}();var m=function(){var a=function(){this._freq=this.inputs[0][0],this._phase=this.inputs[1][0],this._radtoinc=g/f,this._cpstoinc=g*this.rate.sampleDur,this._mask=h,this._table=l,this.inRates[0]===d.AUDIO?(this.process=this.inRates[1]===d.AUDIO?b:this.inRates[1]===d.CONTROL?c:e,this._x=0):this.inRates[1]===d.AUDIO?(this.process=i,this._x=0):(this.process=j,this._x=this._phase*this._radtoinc),j.call(this,1)},b=function(a){a=0|a;var b,c,d,e=this.outs[0],f=this.inputs[0],g=this.inputs[1],h=this._mask,i=this._table,j=this._cpstoinc,k=this._radtoinc,l=this._x;for(d=0;a>d;++d)b=l+k*g[d],c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],l+=f[d]*j;this._x=l},c=function(a){a=0|a;var b,c,d,e=this.outs[0],f=this.inputs[0],g=this.inputs[1][0],h=this._mask,i=this._table,j=this._radtoinc,k=this._cpstoinc,l=this._phase,m=this._x;if(g===l)for(l*=j,d=0;a>d;++d)b=m+l,c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],m+=f[d]*k;else{var n=(g-l)*this.rate.slopeFactor;for(d=0;a>d;++d)b=m+j*l,c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],l+=n,m+=f[d]*k;this._phase=g}this._x=m},e=function(a){a=0|a;var b,c,d,e=this.outs[0],f=this.inputs[0],g=this._phase*this._radtoinc,h=this._mask,i=this._table,j=this._cpstoinc,k=this._x;for(d=0;a>d;++d)b=k+g,c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],k+=j*f[d];this._x=k},i=function(a){a=0|a;var b,c,d,e=this.outs[0],f=this.inputs[0][0],g=this.inputs[1],h=this._mask,i=this._table,j=this._radtoinc,k=this._cpstoinc,l=this._freq,m=this._x;if(f===l)for(l*=k,d=0;a>d;++d)b=m+j*g[d],c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],m+=l;else{var n=(f-l)*this.rate.slopeFactor;for(d=0;a>d;++d)b=m+j*g[d],c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],m+=l*k,l+=n;this._freq=f}this._x=m},j=function(a){a=0|a;var b,c,d,e=this.outs[0],f=this.inputs[0][0],g=this.inputs[1][0],h=this._mask,i=this._table,j=this._radtoinc,k=this._cpstoinc,l=this._freq,m=this._phase,n=this._x;if(f===l&&g===m)for(l*=k,m*=j,d=0;a>d;++d)b=n+m,c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],n+=l;else{var o=(f-l)*this.rate.slopeFactor,p=(g-m)*this.rate.slopeFactor;for(d=0;a>d;++d)b=n+j*m,c=(b&h)<<1,e[d]=i[c]+(b-(0|b))*i[c+1],n+=l*k,l+=o,m+=p;this._freq=f,this._phase=g}this._x=n};return a};c.exports={install:function(){e.register("SinOsc",m)}}}),c("cc/cc","cc/loader")}(this.self||global);
//# sourceMappingURL=coffee-collider-min.map